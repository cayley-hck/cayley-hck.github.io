<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记录前进的脚步"><title>PhantomJS总结 | 凯旋</title><link rel="stylesheet" type="text/css" href="/css/normalize.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/pure-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">PhantomJS总结</h1><a id="logo" href="/.">凯旋</a><p class="description">cayley的博客</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">PhantomJS总结</h1><div class="post-meta"><i class="fa fa-calendar"> 2016-09-12</i></div><span data-disqus-identifier="2016/09/12/PhantomJS总结/" class="disqus-comment-count"></span><div class="post-content"><p>PhantomJS是一个无界面的,可脚本编程的WebKit浏览器引擎。它原生支持多种web标准：DOM 操作，CSS选择器，JSON，Canvas 以及SVG。<br>使用phantomjs可以<br>无UI界面的网站测试<br>屏幕快照(png ,jpeg,gif,pdf)<br>页面操作自动化<br>网络监控</p>
<p>安装:</p>
<p>liunx :<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#下载</span></span><br><span class="line">[root@niaoyun49026 ~]<span class="preprocessor"># wget https:<span class="comment">//bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2</span></span></span><br><span class="line"><span class="preprocessor">#解压</span></span><br><span class="line">[root@niaoyun49026 ~]<span class="preprocessor"># tar -xvf php-<span class="number">7.0</span><span class="number">.9</span>.tar.bz2 </span></span><br><span class="line"><span class="preprocessor">#执行bin/phantomjs即可运行</span></span><br></pre></td></tr></table></figure></p>
<p>mac:</p>
<p>下载phantomjs-1.9.8-macosx.zip并解压，bin/phantomjs直接可用。<br>或者通过Homebrew安装<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew update &amp;&amp; brew install phantomjs huangchengkaideMacBook-<span class="attribute">Air</span>:~ kai$ brew install phantomjs =<span class="function">=&gt;</span> Downloading <span class="attribute">https</span>:<span class="regexp">//</span>homebrew.bintray.com/bottles/phantomjs-<span class="number">2.1</span><span class="number">.1</span>.el_capitan. <span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span> <span class="number">100.0</span>%</span><br><span class="line">=<span class="function">=&gt;</span> Pouring phantomjs-<span class="number">2.1</span><span class="number">.1</span>.el_capitan.bottle.tar.gz</span><br><span class="line">🍺  /usr/local/Cellar/phantomjs/<span class="number">2.1</span><span class="number">.1</span>: <span class="number">49</span> files, <span class="number">50.5</span>M</span><br></pre></td></tr></table></figure></p>
<p>命令行使用:<br>phantomjs [options] somescript.js [arg1 [arg2 […]]]</p>
<p>Options:<br>  –cookies-file=<val>                 设置保存cookies的文件路径<br>  –config=<val>                       设置json格式配置文件的路径(这些options项以json格式保存)<br>  –debug=<val>                        debug模式,显示debug信息和警告级别的信息: ‘true’ or ‘false’ (default)<br>  –disk-cache=<val>                   是否启用磁盘缓存: ‘true’ or ‘false’ (default)<br>  –disk-cache-path=<val>              指定缓存文件路径<br>  –ignore-ssl-errors=<val>            是否忽略 SSL证书错误 : ‘true’ or ‘false’ (default)<br>  –load-images=<val>                  Loads all inlined images: ‘true’ (default) or ‘false’<br>  –local-url-access=<val>             是否允许使用 ‘file:///‘ URLs: ‘true’ (default) or ‘false’<br>  –local-storage-path=<val>           指定本地保存 local storage的路径<br>  –local-storage-quota=<val>          设置最大保存local storage 的大小 (in KB)<br>  –offline-storage-path=<val>         指定最大保存 offline storage 的路径<br>  –offline-storage-quota=<val>        设置最大保存离线 offline storage 的大小(in KB)<br>  –local-to-remote-url-access=<val>   Allows local content to access remote URL: ‘true’ or ‘false’ (default)<br>  –max-disk-cache-size=<val>          Limits the size of the disk cache (in KB)<br>  –output-encoding=<val>              设置输出编码(cmd) default is ‘utf8’<br>  –remote-debugger-port=<val>         Starts the script in a debug harness and listens on the specified port<br>  –remote-debugger-autorun=<val>      Runs the script in the debugger immediately: ‘true’ or ‘false’ (default)<br>  –proxy=<val>                        设置 proxy server, e.g. ‘–proxy=<a href="http://proxy.company.com:8080" target="_blank" rel="external">http://proxy.company.com:8080</a>‘<br>  –proxy-auth=<val>                   Provides authentication information for the proxy, e.g. ‘’-proxy-auth=username:password’<br>  –proxy-type=<val>                   设置代理类型, ‘http’ (default), ‘none’ (disable completely), or ‘socks5’<br>  –script-encoding=<val>              Sets the encoding used for the starting script, default is ‘utf8’<br>  –script-language=<val>              设置脚本语言: ‘javascript’<br>  –web-security=<val>                 是否启用 web 安全模式, ‘true’ (default) or ‘false’<br>  –ssl-protocol=<val>                 Selects a specific SSL protocol version to offer. Values (case insensitive): TLSv1.2, TLSv1.1, TLSv1.0, TLSv1 (same as v1.0), SSLv3, or ANY. Default is to offer all that Qt thinks are secure (SSLv3 and up). Not all values may be supported, depending on the system OpenSSL library.<br>  –ssl-ciphers=<val>                  Sets supported TLS/SSL ciphers. Argument is a colon-separated list of OpenSSL cipher names (macros like ALL, kRSA, etc. may not be used). Default matches modern browsers.<br>  –ssl-certificates-path=<val>        Sets the location for custom CA certificates (if none set, uses environment variable SSL_CERT_DIR. If none set too, uses system default)<br>  –ssl-client-certificate-file=<val>  设置本地ssl证书文件路径<br> –ssl-client-key-file=<val>          设置客户端ssl私钥 –ssl-client-key-passphrase=<val>    设置客户ssl私钥密码<br>  –webdriver=<val>                    Starts in ‘Remote WebDriver mode’ (embedded GhostDriver): ‘[[<ip>:]<port>]’ (default ‘127.0.0.1:8910’)<br>  –webdriver-logfile=<val>            File where to write the WebDriver’s Log (default ‘none’) (NOTE: needs ‘–webdriver’)<br>  –webdriver-loglevel=<val>           WebDriver Logging Level: (supported: ‘ERROR’, ‘WARN’, ‘INFO’, ‘DEBUG’) (default ‘INFO’) (NOTE: needs ‘–webdriver’)<br>  –webdriver-selenium-grid-hub=<val>  URL to the Selenium Grid HUB: ‘URL_TO_HUB’ (default ‘none’) (NOTE: needs ‘–webdriver’)<br>  -w,–wd                              相当于 前面的’–webdriver’ 选项<br>  -h,–help                            显示帮助文档&amp;&amp;退出<br>  -v,–version                         输出该版本 </val></val></val></port></ip></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></val></p>
<p>配置:</p>
<p>json格式配置文件格式如下:</p>
<p>{<br>  /<em> Same as: –ignore-ssl-errors=true </em>/<br>  “ignoreSslErrors”: true,</p>
<p>  /<em> Same as: –max-disk-cache-size=1000 </em>/<br>  “maxDiskCacheSize”: 1000,</p>
<p>  /<em> Same as: –output-encoding=utf8 </em>/<br>  “outputEncoding”: “utf8”</p>
<p>  /<em> etc. </em>/<br>}</p>
<p>注意:配置项需要转换为驼峰命名法的格式哦</p>
<p>//todo ,有空在写</p>
</div><a data-url="http://b.miaoxiaohei.com/2016/09/12/PhantomJS总结/" data-id="cit88whay0025cmgojcmai5wb" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/09/12/优雅的终端/" class="next">优雅的终端 <i class="fa fa-caret-right"></i></a></div><div id="disqus_thread"><script>var disqus_shortname = 'cayleyblogs';
var disqus_identifier = '2016/09/12/PhantomJS总结/';
var disqus_title = 'PhantomJS总结';
var disqus_url = 'http://b.miaoxiaohei.com/2016/09/12/PhantomJS总结/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//cayleyblogs.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search" class="search-form-input"/><input type="hidden" name="si" value="http://b.miaoxiaohei.com"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/liunx/">liunx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/https/" style="font-size: 15px;">https</a> <a href="/tags/科学上网/" style="font-size: 15px;">科学上网</a> <a href="/tags/libiconv/" style="font-size: 15px;">libiconv</a> <a href="/tags/yum/" style="font-size: 15px;">yum</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/composer/" style="font-size: 15px;">composer</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/12/PhantomJS总结/">PhantomJS总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/12/优雅的终端/">优雅的终端</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/07/php设计模式-委托/">php设计模式-委托</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/php设计模式-装饰器/">php设计模式-装饰器</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/php设计模式-数据访问对象模式/">php设计模式-数据访问对象模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/php设计模式-建造者/">php设计模式-建造者</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/php设计模式-适配器/">php设计模式-适配器</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/php设计模式学习总结/">php设计模式学习总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/31/CocoaPods-IOS的类库管理工具/">CocoaPods->IOS的类库管理工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/字符编码总结/">字符编码总结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//cayleyblogs.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><div id="footer">© <a href="/." rel="nofollow">凯旋.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/jquery.min.js?v=0.0.0"></script><script type="text/javascript" src="/js/totop.js?v=0.0.0"></script><script type="text/javascript" src="/js/fancybox.pack.js?v=0.0.0"></script><script type="text/javascript" src="/js/jquery.fancybox.js?v=0.0.0"></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/share.js?v=0.0.0"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>